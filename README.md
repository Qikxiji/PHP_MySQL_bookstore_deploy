# Docker Compose NGINX/PHP-FPM/MySQL website deploy
### Реализовано развёртывание сайта на PHP с базой данных (БД) MySQL.
### Что происходит:
- Образ NGINX модифицируется путем установки пакетов PHP-FPM для работы со скриптами php. Также в состав образа входят файлы расширенной конфигурации nginx (nginx.conf, php_site.conf).
- Используется Docker Compose для сборки и запуска проекта содержащего 2 сервиса: БД MySQL и веб-сервер NGINX в связке с PHP-FPM.
- Средствами Compose создается сеть между контейнерами, задается статический IP для контейнера БД. Подробности о сети можно узнать, используя команду `docker network inspect php_mysql_bookstore_bookstore-net` после запуска приложения.
- Средствами Compose реализуется передача пароля root-пользователя БД в контейнер с помощью docker secrets
- Средствами Compose создается volume (именованный том) для хранения учётных записей пользователей между запусками контейнера. При первом запуске контейнера mysql создается БД из дампа db/database.sql, а также создается volume, который монтируется в рабочую директоию mysql. При последующих запусках в контейнер монтируется уже существующий volume, благодаря чему данные в бд сохраняются между запусками. 

## Требования
- Установить Docker, Compose обычно идет в комплекте.

## Запуск приложения
- Перейдите в директорию с приложением и запустите `docker compose up`.
- Сборка образов, загрузка БД из дампа, поднятие сети между контейнерами и их запуск займет некоторое время.
- После успешного запуска перейдите в браузер и в поисковой строке браузера набрите `localhost:8080`
### Основное окно приложения
![page](./img/main_page.png)
### Окно регистрации и окно редактирования данных пользователя
![](./img/register.png) ![](./img/edit.png)

